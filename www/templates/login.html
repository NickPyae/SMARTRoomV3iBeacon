<ion-view style="background-image: url('./img/background.png')">
    <div ng-if="loadLogin">
        <form ng-submit="login(user,pw,ip, enableHTTPS)">
            <div class="list list-inset list-borderless" style="background:none;">
                <div class="item item-avatar" style="background:none;">
                    <img src="./img/logo.png" style="top:38px;">
                        <h1 style="color:white;">SMARTRoom</h1>
                </div>
                <label class="item item-input item-stacked-label">
                    <span class="input-label">User Name</span>
                    <input type="text" placeholder="user name" ng-model="user" ng-keyup="clearValidation()">
                  </label>
                  <label class="item item-input item-stacked-label">
                    <span class="input-label">Password</span>
                    <input type="password" placeholder="password" ng-model="pw" ng-keyup="clearValidation()">
                  </label>
                  <label class="item item-input item-stacked-label">
                    <span class="input-label">URL</span>
                    <input type="text" placeholder="IP address or url" ng-model="ip" ng-keyup="clearValidation()">
                  </label>
                  <ion-toggle class="item-stacked-label" ng-model="enableHTTPS.checked">
                    <span>Enable HTTPS</span>
                  </ion-toggle>
                  <div class="padding">
                    <button type="submit" ng-disabled="!user || !pw || !ip || logginState"
                            class="button button-block icon-left ion-log-in">
                      Login
                    </button>

                    <button type="button"
                            class="button button-block icon-left ion-android-checkmark-circle" ng-click="showVerifyModal()">
                      Verify Login
                    </button>

                  </div>

            </div>
          <div class="list list-inset" ng-show="validation.msg">
            <label class="item item-input " ng-class="validation.col">
              {{validation.msg}}
            </label>
          </div>
        </form>
    </div>
</ion-view>

<script id="templates/modal.html" type="text/ng-template">
  <ion-modal-view style="background-image: url('./img/background.png')">
    <ion-content>
      <div class="list list-inset list-borderless" style="background:none;">
          <div class="item item-avatar" style="background:none;">
            <img src="./img/logo.png" style="top:38px;">
            <h1 style="color:white;">SMARTRoom</h1>
          </div>
          <h4 style="color:white; text-align: center;">One Time Password</h4>
          <label class="item item-input">
            <input type="text" ng-model="otp">
          </label>
          <button class="button button-block icon-left ion-loop" ng-click="generateOTP()">Generate OTP</button>
          <button class="button button-block icon-left ion-android-checkmark-circle" ng-click="verify(otp)">Verify</button>
          <button class="button button-block icon-left ion-ios-undo" ng-click="modal.hide()">Back</button>
      </div>
    </ion-content>
  </ion-modal-view>
</script>

